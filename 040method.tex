% !TeX spellcheck = ru_RU
% !TEX root = vkr.tex

%Реализация в широком смысле: что таки было сделано. Скорее всего самый большой раздел.

%\emph{Крайне желательно} к Новому году иметь что-то, что сюда можно написать.

% Для понимания того как курсовая записка (отзыв по учебной практике/ВКР) должна писаться, можно посмотреть видео ниже. Они про научные доклады и написание научных статей, учебные практики и ВКР отличаются тем, что тут есть требования отдельных глав (слайдов) со списком задач и списком результатов. Но даже если вы забьёте не требования специфичные для ВКР, и соблюдете все рекомендации ниже, получившиеся скорее всего будет лучше чем первая попытка 99\% ваших однокурсников.
\subsection{Алгоритм}
Реализация представляет из себя пошаговое построение расписание для всех групп по порядку. Мы имеем группу, учебный план и преподавателей,"привязанных" к определенному предмету. Мы берем первый предмет из учебного плана, расписание самой группы, расписание преподавателя и расписание первой попавшейся аудитории, в которой возможно провести данный предмет. После чего мы пытаемся вставить этот предмет в расписание группы, преподавателя и аудитории в одну из пар с понедельника по пятницу. Если это получается, то идем дальше, если не получается, то мы берем уже другую аудиторию, где можно провести данное занятие и повторяем процедуру. Далее или на каком-то этапе у нас получается поставить пару, или мы, перебрав все аудитории, так и не смогли поставить пару. В первом случае мы заканчиваем данный шаг и берем следующий предмет и следующего преподавателя, в противом же случае у нас расписание несоставимо, значит miniKanren сам "откатывается" назад на один шаг и продолжает попытки.                            (очень душно написал, это просто нечитаемо)                       
\subsection{Реализация ограничений}
\textbf{Реализованы следующие ограничения:}
\begin{enumerate}
    \item Учет всех предметов из учебного плана
    \item Вставка не более 5 пар в день
    \item Проверка аудиторий на вместимость и на их специализацию
  %  \item Невозможность поставить только одну пару в день в расписание
\end{enumerate}

\subsubsection{Учет всех предметов из учебного плана}
Реализация данного ограничения является наиболее трудоемкой частью работы, ведь именно на основе этого ограничения и строится алгоритм. Сложность - лучшим образом расставить конъюнкты, чтобы расписание составлялось максимально быстро.

\subsubsection{Не более 5 пар в день}
Для данного ограничения реализована реляция проверки каждого дня на количество пар

\subsubsection{Проверка аудиторий}
Проверка аудиторий происходит по ходу алгоритма, на каждом шаге все аудитории используются только по назначению и в пределах вместимости.

% \begin{enumerate}
% \item <<Как сделать великолепный научный доклад>> от Саймона Пейтона Джонса~\cite{SPJGreatTalk} (на английском).
% \item <<Как написать великолепную научную статью>> от Саймона Пейтона Джонса~\cite{SPJGreatPaper} (на английском).
% \item <<Как писать статьи так, чтобы люди их смогли прочитать>> от Дэрэка Драйера~\cite{DreyerYoutube2020} (на английском). По предыдующей ссылке разбираются, что должно быть в статье, т.е. как она должна выглядеть на высоком уровне. Тут более низкоуровнево изложено как должны быть устроены параграфы и т.п.
% \item Ещё можно посмотреть <<How to Design Talks>>~\cite{JhalaYoutube2020} от Ranjit Jhala, но я думаю, что первых трех ссылок всем хватит.
% \end{enumerate}


% \subsection{Основные грабли}
% Здесь мы будем собирать основные ошибки, которые случаются при написании текстов. В интернетах тоже можно найти коллекции типичных косяков\footnote{\href{https://www.read.seas.harvard.edu/~kohler/latex.html}{https://www.read.seas.harvard.edu/~kohler/latex.html}}.


% \begin{lstlisting}[caption=Название обязательно, language=Caml, frame=single]
% let x = 5 in x+1
% \end{lstlisting}

% Рекомендуется использовать красивые греческие буквы $\Phi,\phi$ по-умол\-ча\-нию, а именно $\phi$ вместо $\varphi$. В данном шаблоне команды для этих букв переставлены местами по сравнению с ванильным \TeX'ом.


% \subsection{Выделения куска листинга с помощью tikz}            
% \url{https://tex.stackexchange.com/questions/284311}

% \begin{lstlisting}[escapechar=!,basicstyle=\ttfamily]
% #include <stdio.h>
% #include <math.h>

% int main () {
%   double c=-1;
%   double z=0;
%   int i;

%   printf (``For c = %lf:\n'', c );
%   for ( i=0; i<10; i++ ) {
%     printf ( !\tikzmark{a}!"z %d = %lf\n"!\tikzmark{b}!, i, z );
%     z = pow(z,2) + c;
%   }
% }
% \end{lstlisting}

% \begin{tikzpicture}[use tikzmark]
% \draw[fill=gray,opacity=0.1]
%   ([shift={(-3pt,2ex)}]pic cs:a) 
%     rectangle 
%   ([shift={(3pt,-0.65ex)}]pic cs:b);
% \end{tikzpicture}
